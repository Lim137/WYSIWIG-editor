(function(){"use strict";var t={5327:function(t,e,n){var o=n(9963),r=n(6252);const i={class:"main-page",ref:"mainPage"},s={class:"page-conteiner"},c={key:0},a=["innerHTML"];function l(t,e,n,o,l,d){const u=(0,r.up)("buttons-block"),h=(0,r.up)("edit-content-block-vue");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",s,[(0,r.Wm)(u,{onUndo:d.undo,onRedo:d.redo,onConvertToHeading:d.convertToHeading,onFormatParagraph:d.formatParagraph,onAddImageFromPrompt:d.addImageFromPrompt,onCopyHTML:d.copyHTML},null,8,["onUndo","onRedo","onConvertToHeading","onFormatParagraph","onAddImageFromPrompt","onCopyHTML"]),(0,r._)("div",{class:"page-conteiner__editor-content",contenteditable:"",onInput:e[0]||(e[0]=(...t)=>d.updateForEdit&&d.updateForEdit(...t)),ref:"editor"},[l.content?((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",{innerHTML:l.content},null,8,a)])):((0,r.wg)(),(0,r.j4)(h,{key:1}))],544)])],512)}n(7658);var d=n(2152),u=n.n(d),h={mounted(t){t.focus()}},p=n(3577),g=n.p+"img/undo.a261dee8.png",f=n.p+"img/redo.f1e85d28.png",m=n.p+"img/formatToHeader.5860b2e0.png",_=n.p+"img/formatToParagraph.ce4b7122.png",v=n.p+"img/insertImage.1135a555.png";function b(t,e,n,o,i,s){return(0,r.wg)(),(0,r.iD)("div",{class:"buttons-block",style:(0,p.j5)(s.styleForButtonBlock)},[(0,r._)("img",{class:"buttons-block__icon",onClick:e[0]||(e[0]=e=>t.$emit("undo")),src:g,alt:""}),(0,r._)("img",{class:"buttons-block__icon",onClick:e[1]||(e[1]=e=>t.$emit("redo")),src:f,alt:""}),(0,r._)("img",{class:"buttons-block__icon",onClick:e[2]||(e[2]=e=>t.$emit("convertToHeading")),src:m,alt:""}),(0,r._)("img",{class:"buttons-block__icon",onClick:e[3]||(e[3]=e=>t.$emit("formatParagraph")),src:_,alt:""}),(0,r._)("img",{class:"buttons-block__icon",onClick:e[4]||(e[4]=e=>t.$emit("addImageFromPrompt")),src:v,alt:""}),(0,r._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("copyHTML")),class:"buttons-block__text-button buttons-block__html-copy-button"}," Скопировать HTML ")],4)}var y={data(){return{buttonBlockOffset:0}},emits:{undo:null,redo:null,convertToHeading:null,formatParagraph:null,addImageFromPrompt:null,copyHTML:null},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},computed:{styleForButtonBlock(){return{transform:this.buttonBlockOffset?`translateY(${this.buttonBlockOffset}px)`:"translateY(0px)"}}},methods:{handleScroll(){const t=window.pageYOffset||document.documentElement.scrollTop,e=77;this.buttonBlockOffset=t>e?t-e:0}}},k=n(3744);const x=(0,k.Z)(y,[["render",b],["__scopeId","data-v-36352c42"]]);var w=x,T=n.p+"img/monkeys.614adb25.png";const I={class:"example-content"},L=(0,r.uE)('<div class="page-conteiner__text"> Таким образом консультация с широким активом представляет собой интересный эксперимент проверки позиций, занимаемых участниками в отношении поставленных задач. С другой стороны постоянное информационно-пропагандистское обеспечение нашей деятельности представляет собой интересный эксперимент проверки форм развития. Идейные соображения высшего порядка, а также укрепление и развитие структуры влечет за собой процесс внедрения и модернизации соответствующий условий активизации. Задача организации, в особенности же реализация намеченных плановых заданий играет важную роль в формировании дальнейших направлений развития. Повседневная практика показывает, что постоянное информационно-пропагандистское обеспечение нашей деятельности играет важную роль в формировании существенных финансовых и административных условий. </div><div class="page-conteiner__title">Смотрите какие обезьянки</div><img class="page-conteiner__image" src="'+T+'" alt=""><div class="page-conteiner__text"> Таким образом консультация с широким активом представляет собой интересный эксперимент проверки позиций, занимаемых участниками в отношении поставленных задач. С другой стороны постоянное информационно-пропагандистское обеспечение нашей деятельности представляет собой инйцу шо шщйоц ущойц ущошцщйуо йцщуо йщцоу щйоу шщйцош ущйтересный эксперимент проверки форм развития. Идейные соображения высшего порядка, а также укрепление и развитие структуры влечет за собой процесс внедрения и модернизации соответствующий условий активизации. Задача организации, в особенности же реализация намеченных плановых заданий играет важную роль в формировании дальнейших направлений развития. Повседневная практика показывает, что постоянное информационно-пропагандистское обеспечение нашей деятельности играет важную роль в формировании существенных финансовых и административных условий. </div><div class="page-conteiner__text"> Товарищи! новая модель организационной деятельности требуют от нас анализа направлений прогрессивного развития. Задача организации, в особенности же постоянный количественный рост и сфера нашей активности требуют от нас анализа позиций, занимаемых участниками в отношении поставленных задач. Задача организации, в особенности же реализация намеченных плановых заданий требуют от нас анализа системы обучения кадров, соответствует насущным потребностям. <br></div>',5),C=[L];function O(t,e,n,o,i,s){return(0,r.wg)(),(0,r.iD)("div",I,C)}var H={data(){return{content:""}},mounted(){}};const B=(0,k.Z)(H,[["render",O]]);var P=B,E={name:"App",directives:{focus:h},data(){return{content:"",history:[],historyIndex:-1,cursorPosition:null,posTop:0,buttonBlockOffset:0}},components:{ButtonsBlock:w,EditContentBlockVue:P},mounted(){this.updateContent(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},computed:{styleForButtonBlock(){return{transform:this.buttonBlockOffset?`translateY(${this.buttonBlockOffset}px)`:"translateY(0px)"}}},methods:{handleScroll(){this.posTop=window.pageYOffset||document.documentElement.scrollTop;const t=77;this.posTop>t?this.buttonBlockOffset=this.posTop-t:this.buttonBlockOffset=0},updateContent(){this.historyIndex<this.history.length-1&&this.history.splice(this.historyIndex+1),this.content=this.$refs.editor.innerHTML,this.history.push(this.content),this.historyIndex=this.history.length-1},updateForEdit(){this.historyIndex<this.history.length-1&&this.history.splice(this.historyIndex+1),this.history.push(this.$refs.editor.innerHTML),this.historyIndex=this.history.length-1},undo(){this.historyIndex>0&&--this.historyIndex,this.content=this.history[this.historyIndex]},redo(){this.historyIndex<this.history.length-1&&(this.historyIndex++,this.content=this.history[this.historyIndex])},formatParagraph(){const t=window.getSelection();if(t.rangeCount>0){const e=t.getRangeAt(0),n=document.createElement("p");n.classList.add("page-conteiner__text"),e.surroundContents(n),(n.closest(".page-conteiner__text")||n.closest(".page-conteiner__title"))&&n.classList.add("page-conteiner__inserted-text")}this.updateContent()},convertToHeading(){const t=window.getSelection();if(t.rangeCount>0){const e=t.getRangeAt(0),n=document.createElement("h1");n.classList.add("page-conteiner__title"),e.surroundContents(n),(n.closest(".page-conteiner__text")||n.closest(".page-conteiner__title"))&&n.classList.add("page-conteiner__inserted-title"),this.updateContent()}},addImageFromPrompt(){const t=prompt("Введите URL изображения:");if(t){const e=document.createElement("img");e.src=t,e.classList.add("page-conteiner__image");const n=this.$refs.editor;if(n){n.focus();const t=window.getSelection(),o=t.getRangeAt(0);o.collapse(!1),o.insertNode(e),(e.closest(".page-conteiner__text")||e.closest(".page-conteiner__title"))&&e.classList.add("page-conteiner__inserted-image"),this.updateContent()}}},copyHTML(){const t=new(u())("button",{text:()=>this.history[this.historyIndex]});t.on("success",(()=>{t.destroy(),alert("HTML скопирован в буфер обмена.")})),t.on("error",(()=>{t.destroy(),alert("Не удалось скопировать HTML. Пожалуйста, скопируйте вручную.")}))}}};const F=(0,k.Z)(E,[["render",l]]);var M=F;(0,o.ri)(M).mount("#app")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,i){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],r=t[d][1],i=t[d][2];for(var c=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[a])}))?o.splice(a--,1):(c=!1,i<s&&(s=i));if(c){t.splice(d--,1);var l=r();void 0!==l&&(e=l)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[o,r,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/WYSIWIG-editor/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,i,s=o[0],c=o[1],a=o[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(a)var d=a(n)}for(e&&e(o);l<s.length;l++)i=s[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(d)},o=self["webpackChunktest_task_project"]=self["webpackChunktest_task_project"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5327)}));o=n.O(o)})();
//# sourceMappingURL=app.a616d1b7.js.map